# Job Index 页面日期检索功能

## 功能概述

Job Index 页面现已支持按发布日期进行检索，用户可以通过日期范围选择器来筛选特定时间段内的招聘信息。

## 主要特性

### 1. 日期范围选择器
- **开始日期**：选择发布日期范围的起始日期
- **结束日期**：选择发布日期范围的结束日期
- **支持单独设置**：可以只设置开始日期或结束日期

### 2. 快速选择按钮
- **最近7天**：快速选择最近一周的职位
- **最近30天**：快速选择最近一个月的职位
- **最近3个月**：快速选择最近90天的职位
- **最近一年**：快速选择最近365天的职位

### 3. 智能验证
- **日期格式验证**：确保输入的日期格式正确
- **日期范围验证**：确保开始日期不晚于结束日期
- **自动修正**：当日期范围无效时自动调整

### 4. 增强显示
- **截止日期状态**：显示职位是否已截止
- **发布时间**：显示职位发布多久了
- **筛选摘要**：显示当前筛选条件下的职位数量和时间范围

## 使用方法

### 基本操作
1. 在"发布日期从"字段选择开始日期
2. 在"发布日期至"字段选择结束日期
3. 点击"应用筛选"按钮

### 快速选择
1. 点击快速选择按钮（最近7天、30天等）
2. 日期范围会自动填充
3. 点击"应用筛选"按钮

### URL参数
- `date_from=YYYY-MM-DD`：设置开始日期
- `date_to=YYYY-MM-DD`：设置结束日期
- 可以与其他参数组合：`?date_from=2025-07-01&date_to=2025-07-31&province=11`

## 技术实现

### 后端实现
- **过滤逻辑**：在JobIndexPage.get_context()中实现日期范围过滤
- **数据库查询**：使用`publication_date__gte`和`publication_date__lte`进行范围查询
- **参数处理**：支持单独的开始日期或结束日期

### 前端实现
- **日期选择器**：使用HTML5的date类型输入框
- **JavaScript增强**：提供快速选择和验证功能
- **样式设计**：响应式设计，支持移动端

## 示例

### 筛选最近一周的职位
```
/jobs/?date_from=2025-07-19&date_to=2025-07-26
```

### 筛选最近一个月的职位
```
/jobs/?date_from=2025-06-26&date_to=2025-07-26
```

### 筛选从特定日期开始的职位
```
/jobs/?date_from=2025-07-01
```

### 筛选到特定日期结束的职位
```
/jobs/?date_to=2025-07-31
```

### 组合筛选：最近30天 + 北京市
```
/jobs/?date_from=2025-06-26&date_to=2025-07-26&province=11
```

## 显示增强

### 职位卡片增强
- **截止日期状态**：
  - 绿色：未截止
  - 红色：已截止
- **发布时间**：显示"X天前"、"X小时前"等相对时间

### 筛选摘要
- **职位数量**：显示找到的职位数量
- **时间范围**：显示当前筛选的时间范围
- **视觉提示**：使用颜色和图标增强可读性

## 特殊处理

### 默认行为
- 页面首次加载时，默认选择最近30天
- 如果用户没有设置日期范围，显示所有职位

### 错误处理
- 无效日期格式：显示错误提示
- 日期范围错误：自动调整结束日期
- 空结果：显示"暂无符合条件的招聘信息"

### 性能优化
- 日期查询使用数据库索引
- 前端使用异步加载
- 缓存常用的日期范围

## 扩展功能

### 未来可能的改进
1. **日期统计图表**：显示职位发布的时间分布
2. **热门时间段**：显示最活跃的招聘时间段
3. **订阅功能**：订阅特定时间段的职位更新
4. **导出功能**：导出特定时间段的职位列表

## 维护说明

### 数据格式
- 日期格式：YYYY-MM-DD
- 时区：使用系统默认时区
- 存储：使用Django的DateField

### 性能考虑
- 大量数据时建议添加日期索引
- 考虑使用缓存减少数据库查询
- 定期清理过期的职位数据

### 兼容性
- 支持所有现代浏览器
- 移动端友好的日期选择器
- 渐进式增强，基础功能在所有设备上可用 